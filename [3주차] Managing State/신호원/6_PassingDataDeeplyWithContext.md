# props drilling
트리 깊숙히 prop을 전달해야할 경우 과하게 장황하고 불편해진다. 이는 공통 부모 컴포넌트가 멀리 떨어져 있는 경우 발생한다.

# Context
Context는 바로 아래 컴포넌트에만 데이터를 전달하는 게 아닌 하위 트리 전체에 데이터를 전달할 수 있다. 하위 컴포넌트는 context에게 데이터를 **요청**함으로서 데이터를 받아올 수 있다.

# Context 만들기
1. `createContext` API를 이용해 컨텍스트를 만든다. 인수는 기본값을 받는다.
2. `useContext` 훅으로 컴포넌트에서 데이터를 요청한다.
3. 상위 컴포넌트에서 Context provider로 하위 트리를 감싸 컨텍스트를 제공한다.

하위 컴포넌트의 요청은 중간 컴포넌트를 무시하고 가장 가까운 provider에게 전달된다.

이를 통해 렌더링 위치에 따라 **주변환경에 적응**하는 컴포넌트를 작성할 수 있다.

# 먼저 props 고려할 것
단지 props가 몇 단계를 뚫는다고 context를 적용해야 하는 것은 아니다. 처음에는 props로 전달을 시도해본다. props로 데이터를 전달하는 대신 데이터를 사용하지 않는 시각적 컴포넌트에 children을 설정해서 props가 넘어야할 레이어 수를 줄일 수 있다. 이러한 방법으로도 해결되지 않는다면 그 때 context를 고려한다.

# 사용 사례
- 테마: 앱 상단에 provider를 배치하고 시각적 모양을 조정해야 하는 컴포넌트가 이를 사용한다.
- 현재 계졍: 현재 로그인된 사용자를 알아야할 경우 유용하다. 또 앱에서 여러 계정을 조작해야 한다면 일부 트리만 중첩된 provider로 감싸 처리할 수 있다.
- 라우팅: 대부분의 라우팅 솔루션은 현재 경로를 context에 저장한다.
- state 관리: 아래 컴포넌트에서 state 변경도 원한다면 reducer와 함께 사용해서 로직을 처리할 수도 있다.